#######################
GET printers/jobs
#######################

The printer firmware calls this endpoint to request its Forge job queue, ordered by submission time.

Note that an ``X-Printer-Auth-Token`` request header containing a 43-character ``auth_token`` generated by the `POST printers/registration_code </en/docs/print/v1/reference/http/printers-registration_code-POST>`_ endpoint is required.


********************
Resource Information
********************

======================   ========================================================================
Method and URI           POST \http://printer-forge-prod.spark.autodesk.com/v1/print/printers/jobs
Authentication Context   app only
Required OAuth Scopes    *none*
Data Format              JSON
======================   ========================================================================


*******
Request
*******

HTTP Headers
=============

====================   ========   ==========   =====================================================================================================
Name                   Required   Value Type   Description
====================   ========   ==========   =====================================================================================================
X-Printer-Auth-Token   yes        string       The 43-character authorization token for use by this printer
====================   ========   ==========   =====================================================================================================

 
Query String Parameters
=======================

==================   ===================   ================   ===================================================================
Name                 Required              Value Type         Description
==================   ===================   ================   ===================================================================
limit                no                    int                | maximum number of jobs to return per page
                                                              |
                                                              | If set to ``-1``, it will return all jobs. 
offset               no                    int                starting index of the current list of jobs
==================   ===================   ================   ===================================================================


********
Response
********

HTTP Status Code Summary
========================

====   =====================   =====================================================================================
Code   Message                 Meaning
====   =====================   =====================================================================================
200    OK                      Successful
400    Bad Request             Invalid request. E.g., the request could not be parsed.
401    Unauthorized            Invalid authorization header. E.g., user is not logged in, or cannot access resource.
404    Not Found               Endpoint does not exist.
422    Unprocessable Entity    Semantic errors
429    Precondition Required   Request rate limit exceeded
500    Internal Server Error   An unknown error occurred on the server.
====   =====================   =====================================================================================

Body Structure (200)
====================

A successful response returns a JSON object with the following attributes:

====================================  ======================  ============================================================================================
Attribute                             Value Type              Description
====================================  ======================  ============================================================================================
count                                 int                     the number of jobs returned
limit                                 int                     maximum number of jobs to return
offset                                int                     starting index of the current list of jobs
_link_prev                            string: URI path and    URI for the previous set of results, excluding scheme and hostname
                                      query string
_link_next                            string: URI path and    URI for the next set of results, excluding scheme and hostname
                                      query string
_link                                 string: URI path and    URI for the endpoint called, excluding scheme and hostname
                                      query string          
printer_id                            int                     printer ID
jobs                                  array: object           the list of jobs
*jobs*.job_status                     object                  extended information about the status of the job
*jobs.job_status*.job_status          enum: string            | status of the job
                                                              |
                                                              | See the `Firmwarse Workflow </en/docs/print/v1/overview/firmware-workflow>`_
                                                                page for more information about statuses. 
*jobs*.status                         enum: string            | status of the job
                                                              |
                                                              | See the `Firmware Workflow </en/docs/print/v1/overview/firmware-workflow>`_
                                                                page for more information about statuses. 
*jobs*.job_id                         string: UUID            ID of the job
*jobs*.local_job                      bool                    whether the job was created by print services or sent locally
*jobs*.job_data                       object                  printer specific data
*jobs.job_data*.printable_url         string                  the filename to be printed
*jobs.job_data*.settings              object                  printer-specific settings for the current job on the printer
*jobs*.job_status_time                string                  date the last status was sent in ``<month_name> D, YYYY HH:mm:ss`` format
*jobs*.member_id                      string                  the ID of the member
*jobs*.job_date_time                  string                  date the job was created in ``<month_name> D, YYYY HH:mm:ss`` format
*jobs*.job_name                       string                  human-readable name of the job
====================================  ======================  ============================================================================================


********
Examples
********

Successful Retreival of List of Queued Jobs (200)
=================================================

.. code-block:: shell

  curl -X 'GET' -H 'X-Printer-Auth-Token: _LyEDQH3npJG6FwqTAoG4EIQYfunFkI3fuJ_PZB3PC0'  'http://printer-forge-prod.spark.autodesk.com/v1/print/printers/jobs?limit=5&offset=0'
  
.. code-block:: json

  {
    "count": 2,
    "limit": 20,
    "offset": 0,
    "_link_prev": "",
    "_link_next": "",
    "_link": "/print/printers/jobs?limit=20&offset=0",
    "printer_id": 1092,
    "jobs": [
      {
        "job_status": {
          "job_status": "queued"
        },
        "status": "queued",
        "job_id": "91d4710d-971c-4aae-9821-b91db971adc2",
        "local_job": false,
        "job_data": {
          "printable_url": "fb807f1f-302c-473f-b268-df15af0f3134.tar.gz",
          "settings": {
            "MotorTimeoutScaleFactor": 1.3,
            "first_layer_approach_rot_jerk": 6
          }
        },
        "job_status_time": "November 12, 2015 13:24:27",
        "member_id": "FPEJMQHAG3NXE",
        "job_date_time": "November 12, 2015 13:24:27",
        "job_name": "Pink Panter"
      },
      {
        "job_status": {
          "job_status": "queued"
        },
        "status": "queued",
        "job_id": "947d6c69-7dcc-4b0f-9b76-307a6d148ea0",
        "local_job": false,
        "job_data": {
          "printable_url": "fb807f1f-302c-473f-b268-df15af0f3134.tar.gz",
          "settings": {
            "MotorTimeoutScaleFactor": 1.3,
            "first_layer_approach_rot_jerk": 6
          }
        },
        "job_status_time": "November 12, 2015 13:24:26",
        "member_id": "FPEJMQHAG3NXE",
        "job_date_time": "November 12, 2015 13:24:26",
        "job_name": "Yellow Cat"
      }
    ]
  }
